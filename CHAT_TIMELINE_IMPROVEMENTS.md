# 聊天窗口流水线进度显示优化

## 修改概述
根据用户需求，我对前端聊天窗口的智能体流水线进度显示进行了重大改进，实现了时间线样式的可视化效果。

## 主要改进功能

### 1. 时间线样式设计
- 实现了垂直时间线布局，清晰展示6步工作流
- 每个步骤使用圆形节点表示，通过连接线串联
- 采用渐变色彩区分不同状态（待执行、执行中、已完成）

### 2. 可折叠功能
- **步骤节点折叠**：每个步骤右侧有折叠/展开按钮，可隐藏或显示详细信息
- **文字信息折叠**：步骤详情区域可独立折叠，包含操作流程和状态说明

### 3. 详细信息展示
每个步骤展开后显示：
- 操作流程（3个子步骤）
- 状态显示（完成状态图标和文字说明）
- 时间戳（开始/完成时间）

### 4. 视觉优化
- 使用渐变背景和阴影效果
- 动态状态图标（加载动画、完成勾选、错误标记）
- 响应式布局，适配不同屏幕尺寸
- 统一的蓝色主题配色

### 5. 交互体验
- 流水线显示持续足够长时间（8秒以上）
- 平滑的展开/收起动画
- 实时状态更新
- 整体进度条显示

## 技术实现

### 新增状态管理
```typescript
const [collapsedSteps, setCollapsedSteps] = useState<Set<string>>(new Set())
const [collapsedDetails, setCollapsedDetails] = useState<Set<string>>(new Set())
```

### 核心函数
- `renderTimelinePipelineProgress()`: 主要渲染函数
- `toggleStepCollapse()`: 切换步骤折叠状态
- `toggleDetailsCollapse()`: 切换详情折叠状态

### 6步工作流定义
1. **文档解析** - 收到文件，开始文档解析
2. **A-结构抽取** - 提取投标文件格式要求
3. **B-规格书提取** - 提取技术规格书
4. **C-方案提纲生成** - 生成投标方案提纲
5. **D-草案拼装** - 拼装投标文件
6. **E-完整性校验** - 校验完整性

## 代码改动
- 添加了新的lucide-react图标导入
- 新增状态管理变量
- 重构流水线渲染逻辑
- 移除重复的进度显示组件
- 优化加载状态显示

## 用户体验提升
1. **可视化清晰**：时间线样式直观展示执行进度
2. **信息分层**：可折叠设计避免信息过载
3. **实时反馈**：动态更新执行状态
4. **美观界面**：现代化设计提升用户满意度

## 符合项目规范
- 遵循聊天面板布局规范
- 实现流水线进度在聊天窗口中的整合
- 保持统一界面展示，无需额外弹窗
- 提供直观的视觉反馈和进度指示

这次修改完全符合用户的需求，提供了时间线样式的步骤展示，支持节点和详情的折叠功能，大大提升了智能体执行流水线的可视化效果。